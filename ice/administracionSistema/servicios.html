<section class="content">
    <div class="row">
        <div class="col-xs-12 texto" ng-controller="serviciosAdminCtrl">
            <div class="box-tools col-sm-4 col-xs-4 visible-lg visible-md hidden-sm hidden-xs" style="float: right">
                <div class="input-group" style="width: 300px;">
                    <input type="text" ng-model="busqueda1" class="form-control input-sm pull-right" placeholder="Ingrese lo que desea buscar">
                    <div class="input-group-btn">
                        <button class="btn btn-sm btn-info"><i class="fa fa-search"></i></button>
                    </div>
                </div>
            </div>
            <div class="box-tools col-sm-4 col-xs-4 visible-xs visible-sm hidden-md hidden-lg">
                <div class="input-group" style="width: 150px;">
                    <input type="text" ng-model="busqueda1" class="form-control input-sm pull-right" placeholder="Buscar">
                    <div class="input-group-btn">
                        <button class="btn btn-sm btn-info"><i class="fa fa-search"></i></button>
                    </div>
                </div>
            </div>

            <br><br>
            <div class="box box-solid box-info">
                <div class="box-header with-border ali">
                    <h3 class="box-title">SERVICIOS</h3>
                    <div class="input-group" style="float: right">
                        <a ng-click="mostrarModalServicio({})" class="btn btn-info  btnNuevo btn-xs">
                            <i class="fa fa-plus-circle"></i> Agregar 
                        </a>
                    </div>
                </div><!-- /.box-header -->
                <div class="box-body table-responsive no-padding">
                    <table class="table table-striped table-responsive">
                        <thead>
                            <tr class="tblTitulo">
                                <th class="btnEditar text-primary">No.</th>
                                <th class="btnEditar col-sm-1 text-primary">FOLIO  
                                </th>
                                <th class="btnEditar text-primary"> VER</th>
                                <th class="col-sm-1">FECHA
                                    <a ng-click="columna2 = 'fechaInicio'; reverse = !reverse;">
                                        <i class="fa fa-unsorted"></i>
                                    </a>
                                </th>
                                <th>CLIENTE
                                    <a ng-click="columna2 = 'nombre'; reverse = !reverse;">
                                        <i class="fa fa-unsorted"></i>
                                    </a>
                                </th>
                                <th class="text-primary">EQUIPO</th>
                                <th class="text-primary">SERIE</th>
                                <th class="text-primary">DESCRIPCION</th>
                                <th class="text-primary">PDF</th>
                                <th class="btnEditar text-primary">EDITAR</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="servicio in servicios.servicios| filter:busqueda1 | orderBy:columna2:reverse" class="tblLetras">
                                <td class="btnEditar text-primary"><b>{{$index + 1}}</b></td>
                                <td class="btnEditar">{{servicio.folio}}</td>
                                <td class="btnEditar">
                                    <a ng-if="servicio.nombreArchivo" ng-href="{{servicio.nombreArchivo}}" target="_blank" class="btn btn-xs btn-default">
                                        <i class="fa fa-file-pdf-o" ></i> 
                                    </a>
                                </td>
                                <td>{{servicio.fechaInicio}}</td>
                                <td>{{servicio.nombre|uppercase}}</td>
                                <td>{{servicio.equipo|uppercase}}</td>
                                <td>{{servicio.serie|uppercase}}</td>
                                <td>{{servicio.descripcion|uppercase}}</td>
                                <td>
                                    <a ng-if="!servicio.nombreArchivo" href="#/subirPdf/{{servicio.idServicio}}" class="btn btn-xs btn-primary">
                                        <i class="fa fa-arrow-circle-up"></i>
                                    </a>
                                </td>
                                <td class="btnEditar">
                                    <a ng-click="mostrarModalServicio(servicio)" class="btn btn-warning btn-xs">
                                        <i class="fa fa-edit"></i>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <!--              <div class="box-footer clearfix">
                                      <ul class="pagination pagination-sm no-margin pull-right">
                                          <li><a ng-click="moverX(1)">«</a></li>
                                          <li 
                                              ng-repeat="pag in servicios.paginas"
                                              ng-class="{
                                                          'active': servicios.pag_actual == pag
                                                      }">
                                              <a ng-click="moverX(pag)">{{pag}}</a>
                                          </li>
                                          <li><a ng-click="moverX(servicios.total_paginas)">»</a></li>
                                      </ul>
                                  </div>-->
                </div><!-- /.box-body -->

            </div><!-- /.box -->

            <!-- <div ng-include="'template/modal_servicios.html'" ></div> -->

            <div class="modal fade" id="modal_servicios">
                <div class="modal-dialog">
                    <div class="modal-content">

                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                            <h4 class="modal-title">Servicios:</h4>
                        </div>

                        <form ng-submit="guardarServicio(infoServicio)" class="form-horizontal">
                            <div class="modal-body">

                                <div class="form-group-sm form-inline">
                                    <label>Folio</label>
                                    <input 
                                        type="text" 
                                        class="form-control" 
                                        placeholder="Número de folio"
                                        required="required"
                                        ng-model="infoServicio.folio"/>
                                    <label>Cliente</label>
                                    <select  
                                        ng-model="clienteSele" 
                                        class="form-control" 
                                        ng-options="nombreS.idCliente as nombreS.nombre for nombreS in nomCliente track by nombreS.idCliente"> 
                                        <option value="" selected hidden> <option>    
                                    </select>     
                                </div>
                                <br>
                                <div class="form-group-sm">
                                    <label>Equipo</label>
                                    <select  
                                        ng-model="equipoSel" 
                                        class="form-control" 
                                        ng-options="equipo.idEquipo as '' + equipo.equipo + '  ' + '|' + '  ' + equipo.caracteristicas + ' | ' + 'No.Serie:' + '  ' + equipo.serie + '' for equipo in nomEquipo track by equipo.idEquipo"> 
                                        <option value="" selected hidden> <option>   
                                    </select>
                                </div>
                                <br>
                                <div class="form-group-sm form-inline">
                                    <label>Fecha de Inicio</label>
                                    <input 
                                        type="date" 
                                        name="date_control" 
                                        required="required"
                                        ng-model="infoServicio.fechaInicio"/>
                                </div>
                                <br>
                                <div class="form-group-sm form-inline">
                                    <label>Fecha de Finalización</label>
                                    <input 
                                        type="date" 
                                        name="date_control" 
                                        required="required"
                                        ng-model="infoServicio.fechaFinalizacion"/>
                                </div>
                                <br>
                                <div class="form-group-sm form-inline">
                                    <label>Tipo de servicio</label>
                                    <select  
                                        ng-model="tipoSel" 
                                        class="form-control" 
                                        ng-options="tS.idTipo as tS.tipo for tS in nomTservicio track by tS.idTipo"> 
                                        <option value="" selected hidden> <option>   
                                    </select>

                                    <label>Técnico</label>
                                    <select  
                                        ng-model="tecnicoSel" 
                                        class="form-control" 
                                        ng-options="tec.idTecnico as tec.tecnico for tec in nomTecnicos track by tec.idTecnico"> 
                                        <option value="" selected hidden> <option>    
                                    </select>
                                </div> 
                                <br>
                                <div class="form-group-sm">
                                    <label>Descripción</label>
                                    <textarea class="form-control" 
                                              placeholder="Descripción del servicio"
                                              required="required"
                                              ng-model="infoServicio.descripcion"></textarea>
                                </div>
                                <br>
                                <div class="form-group-sm">
                                    <label>Refacciones</label>
                                    <textarea type="text" 
                                              class="form-control" 
                                              placeholder="Refacciones utilizadas"
                                              required="required"
                                              ng-model="infoServicio.refacciones"></textarea>
                                </div>
                                <br>
                                <div class="form-group-sm form-inline">
                                    <label>Próximo servicio</label>
                                    <input 
                                        type="date" 
                                        name="date_control" 
                                        required="required"
                                        ng-model="infoServicio.proximo"/>

                               <!--   <label>Realizado</label>
                                    <select  
                                        ng-model="selecSiNo" 
                                        class="form-control" 
                                        ng-options="item as item.name for item in items track by item.id"> 
                                        <option value="" selected hidden> <option>   
                                    </select>-->
                                </div>

                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fa fa-save"></i> Guardar
                                    </button>
                                </div>
                            </div><!-- /.modal-content -->
                        </form>
                    </div><!-- /.modal-dialog -->
                </div>
            </div>

        </div>    
    </div>
</section>